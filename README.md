# üéì School Navigator Pro - Your Campus Companion üöÄ

<div align="center">

![GitHub stars](https://img.shields.io/github/stars/SBP359/school-navigator?style=social)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Made with Love](https://img.shields.io/badge/Made%20with-‚ù§Ô∏è-red.svg)](https://github.com/SBP359)

### üé• See it in Action!

<video src="https://github.com/SBP359/SBP359/blob/c249965e06c06944b1e8ac8eda283ef6c6ba292b/assets/navapp/nav%20(1).mp4" controls="controls" style="max-width: 730px;">
</video>

</div>

## üåü Features

- üó∫Ô∏è **Interactive Campus Navigation**
- üîç **Smart Location Search**
- üë• **Staff Directory**
- üè´ **Facility Information**
- ‚ö° **Real-time Updates**

## üõ†Ô∏è Tech Stack

- Frontend: React + Vite
- Backend: Supabase
- Styling: TailwindCSS
- Maps: Custom SVG Implementation

## üóÑÔ∏è Database Schema

```sql
-- ========= School Navigator Supabase Setup Script =========

-- 1. Create the 'school_info' table to store basic school details.
CREATE TABLE public.school_info (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name TEXT NOT NULL,
    about TEXT,
    slideshow JSONB DEFAULT '[]'::jsonb
);

-- 2. Create the 'locations' table for all campus locations.
CREATE TABLE public.locations (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name TEXT NOT NULL UNIQUE,
    slug TEXT NOT NULL UNIQUE,
    is_classroom BOOLEAN DEFAULT FALSE
);

-- 3. Create the 'staff' table for faculty and council members.
CREATE TABLE public.staff (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name TEXT NOT NULL,
    title TEXT,
    department TEXT,
    room TEXT
);

-- 4. Create the 'facilities' table.
CREATE TABLE public.facilities (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name TEXT NOT NULL,
    description TEXT
);

-- 5. Create the 'routes' table for navigation paths.
CREATE TABLE public.routes (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    start_location TEXT NOT NULL REFERENCES public.locations(name) ON DELETE CASCADE,
    end_location TEXT NOT NULL REFERENCES public.locations(name) ON DELETE CASCADE,
    steps JSONB DEFAULT '[]'::jsonb,
    CONSTRAINT unique_route UNIQUE (start_location, end_location)
);

-- 6. Create storage bucket for route maps
-- NOTE: This part is illustrative. Please create the bucket from the UI as described in Step 3.
-- We will set up policies below.
INSERT INTO storage.buckets (id, name, public)
VALUES ('route-maps', 'route-maps', true)
ON CONFLICT (id) DO NOTHING;


-- ========= Enable Row Level Security (RLS) for all tables =========
ALTER TABLE public.school_info ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.locations ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.staff ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.facilities ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.routes ENABLE ROW LEVEL SECURITY;


-- ========= RLS Policies =========
-- IMPORTANT SECURITY NOTE: These policies allow anyone with the anon key (your public-facing app)
-- to read, write, and delete data. This is required for your admin panel to work as currently built.
-- For a production app, you should implement proper user authentication (e.g., Supabase Auth)
-- and restrict write permissions to authenticated users only.

-- School Info Policies
CREATE POLICY "Allow public read access to school_info" ON public.school_info FOR SELECT USING (true);
CREATE POLICY "Allow anon users to manage school_info" ON public.school_info FOR ALL USING (true);

-- Locations Policies
CREATE POLICY "Allow public read access to locations" ON public.locations FOR SELECT USING (true);
CREATE POLICY "Allow anon users to manage locations" ON public.locations FOR ALL USING (true);

-- Staff Policies
CREATE POLICY "Allow public read access to staff" ON public.staff FOR SELECT USING (true);
CREATE POLICY "Allow anon users to manage staff" ON public.staff FOR ALL USING (true);

-- Facilities Policies
CREATE POLICY "Allow public read access to facilities" ON public.facilities FOR SELECT USING (true);
CREATE POLICY "Allow anon users to manage facilities" ON public.facilities FOR ALL USING (true);

-- Routes Policies
CREATE POLICY "Allow public read access to routes" ON public.routes FOR SELECT USING (true);
CREATE POLICY "Allow anon users to manage routes" ON public.routes FOR ALL USING (true);

-- Storage Policies
CREATE POLICY "Allow public read access to route maps" ON storage.objects FOR SELECT USING ( bucket_id = 'route-maps' );
CREATE POLICY "Allow anon users to upload route maps" ON storage.objects FOR INSERT WITH CHECK ( bucket_id = 'route-maps' );
CREATE POLICY "Allow anon users to update route maps" ON storage.objects FOR UPDATE USING ( bucket_id = 'route-maps' );


-- ========= Insert Sample Data =========

-- Insert School Info
INSERT INTO public.school_info (id, name, about, slideshow) VALUES
(1, 'Innovate Academy', 'Welcome to Innovate Academy, a place where curiosity meets creativity. Our mission is to foster a lifelong love of learning and to equip students with the skills they need to thrive in a changing world. Explore our campus and discover what makes us unique.', '[{"img": "https://picsum.photos/1200/800?random=1", "caption": "Our modern campus entrance."}, {"img": "https://picsum.photos/1200/800?random=2", "caption": "Students collaborating in the library."}]');

-- Insert Locations
INSERT INTO public.locations (name, slug, is_classroom) VALUES
('Main Entrance', 'main-entrance', false),
('Auditorium', 'auditorium', false),
('Library', 'library', false),
('Cafeteria', 'cafeteria', false),
('Gymnasium', 'gymnasium', false),
('Room 101', 'room-101', true),
('Room 205', 'room-205', true);

-- Insert Staff
INSERT INTO public.staff (name, title, department, room) VALUES
('Dr. Evelyn Reed', 'Principal', 'Administration', 'Principal''s Office'),
('Mr. David Chen', 'Science Teacher', 'Science Dept.', 'Room 205'),
('Ms. Maria Garcia', 'Librarian', 'Library', 'Library Desk');

-- Insert Facilities
INSERT INTO public.facilities (name, description) VALUES
('Science Lab', 'A state-of-the-art laboratory for experiments in chemistry, physics, and biology.'),
('Art Studio', 'A creative space equipped with supplies for painting, sculpture, and digital art.'),
('Computer Lab', 'Features 30 high-performance workstations with the latest software for programming and design.');

-- Insert a Sample Route
INSERT INTO public.routes (start_location, end_location, steps) VALUES
('Main Entrance', 'Library', '[{"text": "From the main entrance, walk straight down the central hallway.", "map": ""}, {"text": "You will pass the Auditorium on your left.", "map": ""}, {"text": "The Library will be the second door on your right.", "map": ""}]');

-- Note: Reset the ID sequence to avoid conflicts if you re-run this.
SELECT setval('public.school_info_id_seq', (SELECT MAX(id) FROM public.school_info));
```

## üöÄ Quick Start

1. Clone the repo
```bash
git clone https://github.com/sbp359/school-navigator.git
```

2. Install dependencies
```bash
npm install
```

3. Configure environment variables
```bash
cp .env.example .env
```

4. Add required assets
```bash
# Add logos.png and favicon.ico to the public directory
public/
    ‚îú‚îÄ‚îÄ logos.png
    ‚îî‚îÄ‚îÄ favicon.ico
```

5. Launch! üöÄ
```bash
npm run dev
```

## ü§ù Contributing

Pull requests are welcome! See [CONTRIBUTING.md](CONTRIBUTING.md) for guidelines.

## üìù License

MIT License - fork, modify and use however you want.

---
<div align="center">
Made with ‚ù§Ô∏è by School Navigator Team
</div>
